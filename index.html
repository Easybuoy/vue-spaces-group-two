<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue week2</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.js"></script>
    <script src="https://kit.fontawesome.com/7080cd0a09.js" crossorigin="anonymous"></script>
</head>
<body>
    <div id="app" class="container" style="margin-top: 10%;">
        <header></header>
            <h1 class="text-center" v-text="sitename" style="margin-bottom: 5%;"></h1>
        <div class="row">
        
            <div class="card" style="width: 18rem;">
                <img class="card-img-top" v-bind:src="lesson.image">
                <div class="card-body">
                  <h5 class="card-title">Subject : {{lesson.subject}}</h5>
                  <p class="card-text"><b>Location : </b>{{lesson.location}}</p>
                  <p class="card-text"><b>Price : </b>Â£{{lesson.price}}</p>
                  <p class="card-text"><b> Available Spaces : </b><span></span>{{spaceCount}}</p>
                  <button v-if="canAddToCart" v-on:click="addToCart" class="btn btn-primary">Add to cart</button>
                <button v-else class="btn btn-primary" disabled>Add to cart</button>
                </div>
              </div>
        
            </div>
        </div>
        <script>
            var vm = new Vue ({
                el: "#app",
                data:{
                    
                    sitename: 'Week 4 Course Work (Group Labs)',
                
                    lesson:    {
                       id: 1,
                       subject: "Math",
                       location: "London" ,
                       price : 100,
                       space : 5,
                       image: "https://i.pinimg.com/736x/c8/e5/75/c8e5753370bad54c7977d485e0a0e29d.jpg",
                       
                   },
    
                   cart :[],
    
                },
    
                methods:{
    
                    addToCart(){
                        this.cart.push(this.lesson.id)
                    },
    
                    
                },
    
                computed:{
                    cartItemCount(){
                            return this.cart.length || '';
                        },
    
                        spaceCount(){
                            return this.lesson.space - this.cartItemCount;
                        },
    
                    canAddToCart(){
                        return this.lesson.space > this.cartItemCount;
                        },
                }
    
                     
                            })
    
        </script> 
</body>
</html>